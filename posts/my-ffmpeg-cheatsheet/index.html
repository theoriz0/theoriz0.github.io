<!doctype html><html lang=en><head><title>My FFmpeg Cheatsheet :: theoriz0's blog</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ffmpeg 格式转换 ffmpeg -i A.mkv A.mp4 复制流 ffmpeg -i input.mkv -codec copy output.mp4 视频转换音频 $ ffmpeg -i .\Revenge.webm demo.mp3 #将 Revenge.webm 这个 MV 转换成了 mp3 歌曲 抽取音频命令 ffmpeg -i 3.mp4 -vn -y -acodec copy 3.aac ffmpeg -i 3.mp4 -vn -y -acodec copy 3.m4a 剪切 ffmpeg -ss 00:00:00 -t 00:00:30 -i test.mp4 -vcodec copy -acodec copy output.mp4 * -ss 指定从什么时间开始（hh:mm:ss） * -t 指定需要截取多长时间 * -i 指定输入文件 合并（非 MPEG-1, MPEG-2 PS, DV) Use this method when you want to avoid a re-encode and your format does not support file-level concatenation (most files used by general users do not support file-level concatenation)."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://theoriz0.github.io/posts/my-ffmpeg-cheatsheet/><script async src="https://www.googletagmanager.com/gtag/js?id=G-8HN1FE064R"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-8HN1FE064R",{anonymize_ip:!1})}</script><link rel=stylesheet href=https://theoriz0.github.io/styles.css><link rel="shortcut icon" href=https://theoriz0.github.io/img/theme-colors/orange.png><link rel=apple-touch-icon href=https://theoriz0.github.io/img/theme-colors/orange.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="My FFmpeg Cheatsheet"><meta property="og:description" content="ffmpeg 格式转换 ffmpeg -i A.mkv A.mp4 复制流 ffmpeg -i input.mkv -codec copy output.mp4 视频转换音频 $ ffmpeg -i .\Revenge.webm demo.mp3 #将 Revenge.webm 这个 MV 转换成了 mp3 歌曲 抽取音频命令 ffmpeg -i 3.mp4 -vn -y -acodec copy 3.aac ffmpeg -i 3.mp4 -vn -y -acodec copy 3.m4a 剪切 ffmpeg -ss 00:00:00 -t 00:00:30 -i test.mp4 -vcodec copy -acodec copy output.mp4 * -ss 指定从什么时间开始（hh:mm:ss） * -t 指定需要截取多长时间 * -i 指定输入文件 合并（非 MPEG-1, MPEG-2 PS, DV) Use this method when you want to avoid a re-encode and your format does not support file-level concatenation (most files used by general users do not support file-level concatenation)."><meta property="og:url" content="https://theoriz0.github.io/posts/my-ffmpeg-cheatsheet/"><meta property="og:site_name" content="theoriz0's blog"><meta property="og:image" content="https://theoriz0.github.io/img/favicon/orange.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2023-11-05 15:45:31 +0800 +0800"><script async src="https://www.googletagmanager.com/gtag/js?id=G-8HN1FE064R"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-8HN1FE064R",{anonymize_ip:!1})}</script></head><body class=orange><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>theoriz0's blog</div></a></div></div></header><div class=content><article class=post><h1 class=post-title><a href=https://theoriz0.github.io/posts/my-ffmpeg-cheatsheet/>My FFmpeg Cheatsheet</a></h1><div class=post-meta><time class=post-date>2023-11-05 ::</time></div><div class=table-of-contents><h2>内容大纲</h2><nav id=TableOfContents><ul><li><a href=#格式转换>格式转换</a></li><li><a href=#复制流>复制流</a></li><li><a href=#视频转换音频>视频转换音频</a></li><li><a href=#抽取音频命令>抽取音频命令</a></li><li><a href=#剪切>剪切</a></li><li><a href=#合并非-mpeg-1-mpeg-2-ps-dv>合并（非 MPEG-1, MPEG-2 PS, DV)</a></li><li><a href=#合并-mpeg-1-mpeg-2-ps-dv>合并 (MPEG-1, MPEG-2 PS, DV)</a></li><li><a href=#merge-m4s-video-and-audio>merge m4s video and audio</a></li><li><a href=#yuv录屏>yuv录屏</a></li></ul></nav></div><div class=post-content><div><h1 id=ffmpeg>ffmpeg<a href=#ffmpeg class=hanchor arialabel=Anchor>&#8983;</a></h1><h2 id=格式转换>格式转换<a href=#格式转换 class=hanchor arialabel=Anchor>&#8983;</a></h2><pre tabindex=0><code>ffmpeg -i A.mkv A.mp4
</code></pre><h2 id=复制流>复制流<a href=#复制流 class=hanchor arialabel=Anchor>&#8983;</a></h2><pre tabindex=0><code>ffmpeg -i input.mkv -codec copy output.mp4
</code></pre><h2 id=视频转换音频>视频转换音频<a href=#视频转换音频 class=hanchor arialabel=Anchor>&#8983;</a></h2><pre tabindex=0><code>$ ffmpeg -i .\Revenge.webm demo.mp3 #将 Revenge.webm 这个 MV 转换成了 mp3 歌曲
</code></pre><h2 id=抽取音频命令>抽取音频命令<a href=#抽取音频命令 class=hanchor arialabel=Anchor>&#8983;</a></h2><pre tabindex=0><code>ffmpeg -i 3.mp4 -vn -y -acodec copy 3.aac
ffmpeg -i 3.mp4 -vn -y -acodec copy 3.m4a
</code></pre><h2 id=剪切>剪切<a href=#剪切 class=hanchor arialabel=Anchor>&#8983;</a></h2><pre tabindex=0><code>ffmpeg -ss 00:00:00 -t 00:00:30 -i test.mp4 -vcodec copy -acodec copy output.mp4
* -ss 指定从什么时间开始（hh:mm:ss）
* -t 指定需要截取多长时间
* -i 指定输入文件
</code></pre><h2 id=合并非-mpeg-1-mpeg-2-ps-dv>合并（非 MPEG-1, MPEG-2 PS, DV)<a href=#合并非-mpeg-1-mpeg-2-ps-dv class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Use this method when you want to avoid a re-encode and your format does not support file-level concatenation (most files used by general users do not support file-level concatenation).</p><pre tabindex=0><code>$ cat mylist.txt
file &#39;/path/to/file1&#39;
file &#39;/path/to/file2&#39;
file &#39;/path/to/file3&#39;
    
$ ffmpeg -f concat -safe 0 -i mylist.txt -c copy output.mp4
</code></pre><p>For Windows:</p><pre tabindex=0><code>(echo file &#39;first file.mp4&#39; &amp; echo file &#39;second file.mp4&#39; )&gt;list.txt
ffmpeg -safe 0 -f concat -i list.txt -c copy output.mp4
</code></pre><h2 id=合并-mpeg-1-mpeg-2-ps-dv>合并 (MPEG-1, MPEG-2 PS, DV)<a href=#合并-mpeg-1-mpeg-2-ps-dv class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Use this method with formats that support file-level concatenation (MPEG-1, MPEG-2 PS, DV). Do not use with MP4.</p><pre tabindex=0><code>ffmpeg -i &#34;concat:input1|input2&#34; -codec copy output.mkv
</code></pre><p>This method does not work for many formats, including MP4, due to the nature of these formats and the simplistic concatenation performed by this method.</p><pre tabindex=0><code>ffmpeg -i input.flv -q:a 5 out.mp3
</code></pre><p>flv 提取mp3</p><h2 id=merge-m4s-video-and-audio>merge m4s video and audio<a href=#merge-m4s-video-and-audio class=hanchor arialabel=Anchor>&#8983;</a></h2><pre tabindex=0><code>ffmpeg -i video.m4s -i audio.m4s -c:v copy -c:a copy output.mp4
</code></pre><h2 id=yuv录屏>yuv录屏<a href=#yuv录屏 class=hanchor arialabel=Anchor>&#8983;</a></h2><pre tabindex=0><code>ffmpeg -f gdigrab -t 15 -framerate 30 -i desktop -pix_fmt yuv420p -vcodec rawvideo -s 1920x1080 -y output.yuv
</code></pre></div></div><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//theoriz0blog.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2023 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>